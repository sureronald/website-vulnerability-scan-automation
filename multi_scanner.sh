#!/bin/sh
#Author: Ronald Osure (c) 2014
#Purpose: Scan websites and generate vulnerability reports in html/txt formats where applicable
#         Reads domain names from a line separated file
#----- DEPENDENCIES ------
#----- 1. Whatweb (Quick website footprinting)
#----- 2. Joomscan (Joomla Vulnerability Scanner)
#----- 3. DpScan (Drupal Vulnerability Scanner Scanner)
#----- 4. WpScan (Wordpress Vulnerability Scanner)

help(){
 echo "Some help message is here"
}

help
domain="energy.go.ke"
echo "Doing footprinting <whatweb> on $domain"
sleep 1
whatweb_recon=`whatweb --no-errors -a 3 $domain`
$cms_found = 0 #Default for true
#Check if site is running the Joomla! CMS
echo "$whatweb_recon" | grep -i "joomla" > /dev/null
if [ $? -eq 0 ]; then
 echo "Joomla! detected.. Starting Joomscan in a moment"
 echo "Executing command: $xx"
 sleep 1
else
 echo "Joomla! not found. carrying on. Improve on the logic using $cms_found"
fi;

